<h3 class="page_header flex">
    <span class="text">{{ title }}</span>
</h3>
<app-ak-server-validation></app-ak-server-validation>
<app-ak-growl [messages]="msgs"></app-ak-growl>

<div class="loading" *ngIf="loader">Loading&#8230;</div>

    <form [formGroup]="categoryForm" (ngSubmit)="onSubmit(categoryForm.value)">
      <section class="inputWrapper">
      <div class="form-group">
          <div>
            <label>Name <span class="color">*</span></label>
            <validation-messages class="validation-message" [control]="categoryForm.controls.name" [key]="'Name'"></validation-messages>
          </div>
          <input pInputText type="text" formControlName="name" class="form-control" id="name" placeholder="Category Name" autofocus/>
     </div>
      <div class="form-group">
          <div>
            <label>Code <span class="color">*</span></label>
            <validation-messages class="validation-message" [control]="categoryForm.controls.code" [key]="'Code'"></validation-messages>
          </div>
          <input pInputText type="text" formControlName="code" class="form-control" id="code" placeholder="Category code"/>
     </div>
     </section>
  <section class="inputWrapper assign-carrier location-category">
       <div class="form-group">
         <span class="form-group">
            <label for="type">Parent</label>
            <p-dropdown [options]="categoryOptionList" class="form-control" formControlName="parent" id="parent" [style]="{'width':'100%','height':'32px'}"
                filter="filter" placeholder="Select Parent"></p-dropdown>
        </span>
       </div>
  </section>

      <div class="form-group">
          <p-toggleButton formControlName="status" onLabel="Active" offLabel="Active" onIcon="fa-check-square-o" offIcon="fa-square-o"
            [style]="{'width':'100px'}"></p-toggleButton>
    
        <p-toggleButton id="sysDefined" formControlName="sysDefined" onLabel="System Defined" offLabel="System Defined" onIcon="fa-check-square-o"
            offIcon="fa-square-o" [style]="{'width':'150px'}" class="disable"></p-toggleButton>

    </div>


    <div class="form-group product-field">
    <app-ak-tag class="clearfix"  [tags]="tags" [parentFormGroup]="categoryForm" (onTagUpdate)="onTagUpdate($event)" ></app-ak-tag>


    </div>
    <div class="btn-wrapper">
       <div class="buttonWrapper">
        <button type="button" class="save cancel" (click)="onCancel()" id="category-cancel">Cancel</button>
        <button [disabled]="!categoryForm.valid" type="submit" class="save" label="Submit" id="category-submit">Submit</button>
    </div>
    </div>
    </form>

    <span class="sys-defined">{{editmessage}}</span>
