<div class="globalsearch-dropdown">
    <span _ngcontent-c2="">
        <input [(ngModel)]="globalSearch" type="text" placeholder="Search" (focus)="globalSearchFocus = true;" (blur)="globalSearchFocus = false;"
             style="border: none; width: 100%;float:left; color:#fff">
      <i class="fa fa-angle-down" aria-hidden="true" (click)="openSearchBox()"></i> 
        <div class="hiddendiv" [class.show]="isShow" id="abc">

            <div class="hiddenDiv">
                <form class="search-dropdown-content" [formGroup]="searchForm">
                    <div id="search-validation-message" style="color:red;" *ngIf="showmessage">
                        {{validation_message}}
                    </div>
                    <section class="inputWrapper" style="width:100%;">
                        <div class="form-group">
                            <div>
                                <label>User</label>
                            </div>
                            <p-dropdown formControlName="user" [options]="users" class="form-control search-drop" id="search_user" filter="filter"
                                placeholder="Select User"></p-dropdown>
                        </div>
                    </section>
                    <br />
                    <section class="inputWrapper" style="width:100%;">
                        <div class="form-group">
                            <div>
                                <label>Location</label>
                            </div>
                            <p-dropdown formControlName="location" [options]="locations" class="form-control search-drop" id="search_location"
                            filter="filter" placeholder="Select Location" (onChange)="fetchAndPopulateFloors($event.value)"></p-dropdown>
                        </div>
                 </section>
                 <br />
                 <section class="inputWrapper" style="width:100%;margin-top:10px">
                    <div class="form-group">
                        <div>
                            <label>Floor</label>
                        </div>
                        <p-dropdown formControlName="floor" [options]="floors" class="form-control search-drop" id="search_floor"
                        filter="filter" placeholder="Select Floor" (onChange)="fetchAndPopulateZones($event.value)"></p-dropdown>
                    </div>
                </section>
                <br />
                <section class="inputWrapper" style="width:100%;margin-top:10px">
                    <div class="form-group">
                        <div>
                            <label>Zone</label>
                        </div>
                        <p-dropdown formControlName="zone" [options]="zones" class="form-control search-drop" id="search_zone"
                        filter="filter" placeholder="Select Zone"></p-dropdown>
                    </div>
                </section>
                <br />
                <section class="inputWrapper" style="width:100%">
                    <div class="form-group">
                        <div>
                            <label>Date</label>
                        </div>
                        <p-calendar formControlName="dateFrom" [dateFormat]="dateFormat" class="from-date search-calendar"
                            [showIcon]="true" placeholder="From Date" readonlyInput="readonlyInput"></p-calendar>
                        <p-calendar formControlName="dateTo" [dateFormat]="dateFormat" class="search-calendar"
                            [showIcon]="true" placeholder="To Date" readonlyInput="readonlyInput"></p-calendar>
                    </div>
                </section>
                
                    <section class="inputWrapper" style="width:100%">
                        <div class="form-group">
                            <div>
                                <label>First In</label>
                            </div>
                            <p-calendar showTime="showTime" hourFormat="24" formControlName="firstInFrom" [dateFormat]="dateFormat" class="from-date search-calendar"
                                [showIcon]="true" placeholder="From First In" readonlyInput="readonlyInput"></p-calendar>
                            <p-calendar showTime="showTime" hourFormat="24" formControlName="firstInTo" [dateFormat]="dateFormat" class="search-calendar"
                                [showIcon]="true" placeholder="To First In" readonlyInput="readonlyInput"></p-calendar>
                        </div>
                    </section>

                    <section class="inputWrapper" style="width:100%">
                        <div class="form-group">
                            <div>
                                <label>Last Out</label>
                            </div>
                            <p-calendar showTime="showTime" hourFormat="24" formControlName="lastOutFrom" [dateFormat]="dateFormat" class="from-date search-calendar"
                                [showIcon]="true" placeholder="From Last Out" readonlyInput="readonlyInput"></p-calendar>
                            <p-calendar showTime="showTime" hourFormat="24" formControlName="lastOutTo" [dateFormat]="dateFormat" class="search-calendar"
                                [showIcon]="true" placeholder="To Last Out" readonlyInput="readonlyInput"></p-calendar>
                        </div>
                    </section>

                    <div class="search-button">
                        <button type="button" class="search" id="search" (click)="searchRecord(searchForm.value)">
                            <i class="fa fa-search" style="margin: 0px;font-size: 16px;"></i>
                            Search</button>
                        <button type="button" class="reset" id="reset" (click)="reset()">
                            <i class="fa fa-repeat" style="margin: 0px;font-size: 16px;"></i>
                            Reset</button>
                    </div>

                    <!--Dialog for date-->

                    <p-dialog [(visible)]="dateDialog" [responsive]="true" showEffect="fade" [modal]="true" class="date-dialog-box">
                        <div class="date-dialog">
                            <p>Login Time From date should be equal or less than Login Time To date</p>
                            <button type="button" (click)="closeDialog()" class="save">OK</button>
                        </div>
                    </p-dialog>

                    <!--Dialog for date-->
                </form>
            </div>


        </div>
    </span>


    <button type="button" class="search-btn" (click)="searchGlobal()">
        <i class="fa fa-search" style=" margin: 0px;"></i>
    </button>
</div>
